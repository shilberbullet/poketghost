# 포켓고스트 (PoketGhost)

한국 전통 요괴를 소재로 한 턴제 RPG 게임입니다.

## 게임 소개

포켓고스트는 조선시대를 배경으로, 다양한 한국 전통 요괴들을 수집하고 육성하며 전투를 벌이는 RPG 게임입니다. 도깨비, 구미호, 귀신 등 한국의 전통적인 요괴들이 등장하며, 각 요괴는 고유한 특성과 기술을 가지고 있습니다.

## 프로젝트 구조

```
poketghost/
├── src/                    # 소스 코드
│   ├── main.c             # 메인 게임 로직
│   ├── menu.c             # 메뉴 시스템
│   ├── game.c             # 게임 상태 관리
│   ├── input.c            # 입력 처리
│   ├── settings.c         # 게임 설정
│   ├── text.c             # 텍스트 출력
│   ├── stage.c            # 스테이지 관리
│   ├── yokai.c            # 요괴 시스템
│   ├── move.c             # 기술 시스템
│   ├── battle.c           # 전투 시스템
│   ├── party.c            # 파티 관리
│   ├── savefile.c         # 저장/불러오기
│   └── item.c             # 아이템 시스템
├── include/               # 헤더 파일
│   ├── menu.h
│   ├── game.h
│   ├── input.h
│   ├── settings.h
│   ├── text.h
│   ├── stage.h
│   ├── yokai.h
│   ├── move.h
│   ├── battle.h
│   ├── party.h
│   ├── savefile.h
│   └── item.h
├── data/                  # 게임 데이터 파일
│   ├── move.txt          # 기술 데이터
│   ├── yokai.txt         # 요괴 데이터
│   └── items.txt         # 아이템 데이터
├── save_editor/          # 세이브 파일 에디터
│   ├── save_editor.c     # 에디터 소스 코드
│   ├── yokai.txt         # 요괴 목록
│   ├── items.txt         # 아이템 목록
│   └── moves.txt         # 기술 목록
└── README.md             # 프로젝트 설명
```

## 개발자

- 이상엽

## 게임 시스템 상세 설명

### 요괴 시스템
- **요괴 등급**
  - 일반: 기본 능력치, 1-2개의 특수 기술
  - 희귀: 높은 능력치, 2-3개의 특수 기술
  - 전설: 최고 능력치, 3-4개의 특수 기술
- **요괴 특성**
  - 각 요괴마다 고유한 특성 보유
  - 전투 중 특정 조건에서 발동
  - 능력치 상승, 상태이상 회복 등 다양한 효과
- **요괴 육성**
  - 전투 승리 시 경험치 획득
  - 레벨업 시 능력치 상승
  - 기술 습득 및 PP 증가
- **최대 동료 수**
  - 기본 6마리까지 동료 요괴 보유 가능
  - 특수 아이템으로 일시적으로 1마리 추가 가능

### 전투 시스템
- **턴제 전투**
  - 스피드에 따른 행동 순서 결정
  - 각 턴마다 1개의 행동만 가능
  - 기술 사용, 아이템 사용, 도망 선택 가능
- **기술 시스템**
  - 각 요괴마다 4가지 기술 보유
  - 기술별 고유한 위력과 효과
  - 명중률에 따른 성공/실패 판정
- **PP 시스템**
  - 기술 사용 시 PP 소모
  - PP가 0이면 해당 기술 사용 불가
  - 회복 아이템으로 PP 복구 가능
- **도망 시스템**
  - 일반 스테이지에서 50% 확률로 도망 가능
  - 보스 스테이지에서는 도망 불가
  - 도망 실패 시 적의 공격 기회 제공
- **보스 스테이지**
  - 10스테이지마다 등장하는 강력한 요괴
  - 도망 불가, 부적 사용 불가
  - 승리 시 특별한 보상 제공

### 아이템 시스템
- **아이템 등급**
  - 일반: 기본적인 효과, 높은 획득 확률
  - 희귀: 강력한 효과, 낮은 획득 확률
  - 초희귀: 최고급 효과, 매우 낮은 획득 확률
- **아이템 종류**
  - 부적: 요괴 포획에 사용, 등급별 성공률 차이
  - 회복 아이템: HP, PP 회복, 상태이상 치료
  - 강화 아이템: 능력치 상승, 특수 효과 부여
- **아이템 제한**
  - 일반 아이템: 최대 99개 보유 가능
  - 특수 아이템 (작두, 무당방울): 최대 5개 보유 가능
  - 인벤토리 슬롯: 최대 20개
- **아이템 보상 시스템**
  - 전투 승리 시 3개의 랜덤 아이템 중 선택
  - 아이템 등급에 따른 출현 확률 조정
  - 전 아이템으로 아이템 리스트 초기화 가능
  - 초기화 비용: 100전부터 시작, 스테이지별 2배 증가
  - 10스테이지마다 초기화 비용 리셋

### 스테이지 시스템
- **스테이지 진행**
  - 1~100스테이지까지 진행 가능
  - 스테이지별 다른 요괴 출현
  - 난이도 점진적 상승
- **보상 시스템**
  - 기본 보상: 100전
  - 스테이지 보너스: 10스테이지마다 50전씩 증가
  - 랜덤 보너스: 0~49전
  - 10의 배수 스테이지: 보상 2배
  - 보스 스테이지: 특별 보상 추가
- **지역 시스템**
  - 스테이지별로 다른 지역과 지형 설정
  - 지역별 특색 있는 요괴 출현
  - 지형에 따른 전투 효과 변화

### 저장 시스템
- **자동 저장**
  - 스테이지 클리어 시 자동 저장
  - 게임 종료 시 자동 저장
  - 저장 실패 시 경고 메시지 출력
- **수동 저장**
  - 메뉴에서 언제든지 저장 가능
  - 저장 슬롯 3개 제공
  - 저장 데이터 백업 기능
- **저장 데이터**
  - 현재 스테이지 정보
  - 보유 금액
  - 동료 요괴 정보
  - 인벤토리 아이템
  - 게임 설정

## 주요 기능

- **요괴 수집**: 다양한 한국 전통 요괴를 수집하고 육성
- **전투 시스템**: 턴제 전투 시스템으로 요괴들과 전투
- **아이템 시스템**: 
  - 부적, 회복 아이템 등 다양한 아이템 사용
  - 일반 아이템 최대 99개 보유 가능
  - 특수 아이템(작두, 무당방울) 최대 5개 보유 가능
  - 아이템 리스트 초기화 기능 (전 아이템 사용)
  - 초기화 비용: 100전부터 시작, 스테이지별 2배 증가
  - 10스테이지마다 초기화 비용 리셋
- **스테이지 진행**: 다양한 지역과 지형에서 진행되는 스테이지
- **저장 시스템**: 게임 진행 상황 저장 및 불러오기

## 기술 스택

- C 언어
- Windows 콘솔 환경

## 실행 방법

### 1. 개발 환경 준비
1. MinGW 설치 (C 컴파일러)
   - [MinGW 다운로드 페이지](https://sourceforge.net/projects/mingw/)에서 설치
   - 설치 시 `mingw32-base`와 `mingw32-gcc-g++` 패키지 선택
   - 설치 후 시스템 환경 변수 PATH에 MinGW의 bin 폴더 경로 추가
     (예: `C:\MinGW\bin`)

2. Git 설치
   - [Git 다운로드 페이지](https://git-scm.com/downloads)에서 설치

### 2. 프로젝트 다운로드
1. 명령 프롬프트(cmd) 실행
   - Windows 키 + R을 누르고 'cmd' 입력 후 실행

2. 프로젝트 폴더 생성 및 이동
```bash
# 원하는 위치로 이동 (예: C 드라이브)
cd C:\

# 프로젝트 폴더 생성
mkdir poketghostv2

# 생성한 폴더로 이동
cd poketghostv2
```

3. GitHub에서 소스 코드 다운로드
```bash
git clone https://github.com/shilberbullet/poketghost.git .
```

### 3. 컴파일 및 실행
1. 소스 코드 컴파일
```bash
gcc -o poketghost src/main.c src/menu.c src/game.c src/input.c src/settings.c src/text.c src/stage.c src/yokai.c src/move.c src/battle.c src/party.c src/savefile.c src/item.c -I./include -I./src
```

2. 게임 실행
```bash
poketghost
```

## 게임 조작

- 숫자 키를 사용하여 메뉴 선택
- 전투 시 기술 선택 및 아이템 사용
- 저장 및 불러오기 기능

## 개발 툴 사용법

### 1. 세이브 파일 에디터 (save_editor)
세이브 파일 에디터는 게임의 세이브 데이터를 수정할 수 있는 별도의 프로그램입니다.

#### 컴파일 방법
```bash
cd save_editor
gcc save_editor.c -o save_editor.exe
```

#### 실행 방법
1. 명령 프롬프트(cmd) 실행
2. save_editor 폴더로 이동
```bash
cd save_editor
```
3. 프로그램 실행
```bash
save_editor.exe
```

#### 메뉴 구성
1. 스테이지 정보 수정
   - 스테이지 번호 변경 (1-100)
   - 지역 선택 (마을, 숲, 산, 강, 사찰)
   - 시간 설정 (스테이지 번호에 따라 자동 변경)
2. 돈 수정
   - 현재 보유 금액 확인
   - 금액 직접 입력 (0-999999)
3. 동료 요괴 관리
   - 요괴 목록 확인
   - 요괴 추가 (yokai.txt에서 선택)
   - 요괴 제거
   - 요괴 정보 수정 (HP, 공격력, 방어력, 스피드)
4. 인벤토리 관리
   - 아이템 목록 확인
   - 아이템 추가 (items.txt에서 선택)
   - 아이템 제거
   - 아이템 개수 수정

#### 사용 시 주의사항
1. 게임 실행 중에는 에디터를 사용하지 않습니다.
2. 수정 전에 save.dat 파일을 백업해두는 것이 좋습니다.
3. 스테이지 번호는 1-100 사이의 값만 입력 가능합니다.
4. 돈은 0-999999 사이의 값만 입력 가능합니다.
5. 동료 요괴는 최대 6마리까지만 추가 가능합니다.
6. 아이템 개수는 아이템 종류에 따라 제한이 있습니다:
   - 일반 아이템: 최대 99개
   - 특수 아이템(작두, 무당방울): 최대 5개

### 2. 데이터 파일 수정
게임의 기본 데이터는 `data` 폴더의 텍스트 파일에서 수정할 수 있습니다.

#### 파일 위치
```
poketghost/
├── data/
│   ├── yokai.txt    # 요괴 데이터
│   ├── move.txt     # 기술 데이터
│   └── items.txt    # 아이템 데이터
└── save_editor/
    ├── yokai.txt    # 요괴 목록
    ├── items.txt    # 아이템 목록
    └── moves.txt    # 기술 목록
```

#### yokai.txt
```
요괴이름,등급,HP,공격력,방어력,스피드,특성,설명
```
- 등급: 1(일반), 2(희귀), 3(전설)
- 능력치: 1-100 사이의 값
- 특성: 요괴의 고유 특성 설명
- 설명: 요괴에 대한 배경 설명

#### move.txt
```
기술이름,위력,명중률,PP,설명
```
- 위력: 1-100 사이의 값
- 명중률: 1-100 사이의 값
- PP: 1-40 사이의 값
- 설명: 기술의 효과 설명

#### items.txt
```
아이템이름,등급,타입,효과,설명
```
- 등급: 1(일반), 2(희귀), 3(초희귀)
- 타입: 1(부적), 2(회복), 3(강화)
- 효과: 아이템 사용 시 발동하는 효과
- 설명: 아이템에 대한 설명

#### 파일 수정 시 주의사항
1. 파일은 반드시 UTF-8 인코딩으로 저장합니다.
2. 각 줄은 쉼표(,)로 구분된 형식을 정확히 지켜야 합니다.
3. 수정 후에는 게임을 재시작해야 변경사항이 적용됩니다.
4. 파일 수정 전에 반드시 백업을 만들어두세요.
5. 데이터 파일과 에디터의 파일은 동기화되어 있어야 합니다.
